<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="description" content="$1">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>SVG Practice</title>
    <style type="text/css">
        #pageloading {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            margin-top: 70px;
            color: #22DDB8;
            font-size: x-large;
        }

        #pageloading img {
            width: 50%;
            max-width: 400px;
        }

        .tt {
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
            /*
            上面不可点击
            下面不会遮挡下一层的事件
            */
            pointer-events: none;
        }

    </style>
    <script type="text/javascript" th:src="@{/js/d3.min.js}"></script>
    <link th:href="@{/css/bootstrap.min.css}" rel="stylesheet">
    <link th:href="@{/css/bootstrap-switch.min.css}" rel="stylesheet">
    <link th:href="@{/css/d3tip.css}" rel="stylesheet">

    <script type="text/javascript" th:src="@{/js/jquery-3.2.1.slim.min.js}"></script>
    <script type="text/javascript" th:src="@{/js/echarts.min.js}"></script>
    <script type="text/javascript" th:src="@{/js/d3-tip.js}"></script>
    <script type="text/javascript" th:src="@{/js/bootstrap-switch.min.js}"></script>
</head>
<body>
<div id="pageloading">
    <img th:src="@{/src/loading.gif}"/>
    正在载入。。。
</div>
<div class="col-md-8" name="path" style="display: none; margin-left: 5em">
    <h4>算法：[[${algorithm}]]</h4>
    <h4>完成所有任务最短消耗时间：[[${consumeTime}]]</h4>
</div>
<div id="switch" class="col-md-12 ml-sm-auto col-lg-8 pt-3 px-4" name="path" style="display: none; margin-top: -5em">
    <div class="col-md-4 offset-8" id="switch1" style="display: none">
        <label class="form-inline">
            <svg id="reshowAll" class="reload" viewBox="0 0 1024 1024" width="30" height="30">
                <path d="M512 960c-211.2 0-384-172.8-384-384s172.8-384 384-384c38.4 0 64 25.6 64 64s-25.6 64-64 64C371.2 320 256 435.2 256 576s115.2 256 256 256 256-115.2 256-256c0-38.4 25.6-64 64-64s64 25.6 64 64c0 211.2-172.8 384-384 384z"
                      fill="#00FF00"></path>
                <path d="M806.4 211.2L608 76.8C569.6 51.2 512 76.8 512 121.6v268.8c0 44.8 57.6 70.4 96 44.8l198.4-134.4c32-19.2 32-70.4 0-89.6"
                      fill="#00FF00"></path>
            </svg>
            <text style="font-weight: bold; font-size: large">for all&nbsp;&nbsp;</text>
            <a class="btn btn-info btn-sm" href="/order" role="button" th:target="_blank">查看指令执行顺序</a>
        </label>
        <label class="form-inline">
            <svg id="reshow1" class="reload" viewBox="0 0 1024 1024" width="20" height="20">
                <path d="M512 960c-211.2 0-384-172.8-384-384s172.8-384 384-384c38.4 0 64 25.6 64 64s-25.6 64-64 64C371.2 320 256 435.2 256 576s115.2 256 256 256 256-115.2 256-256c0-38.4 25.6-64 64-64s64 25.6 64 64c0 211.2-172.8 384-384 384z"
                      fill="#0000FF"></path>
                <path d="M806.4 211.2L608 76.8C569.6 51.2 512 76.8 512 121.6v268.8c0 44.8 57.6 70.4 96 44.8l198.4-134.4c32-19.2 32-70.4 0-89.6"
                      fill="#0000FF"></path>
            </svg>
            <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-circle-fill" fill="blue"
                 xmlns="http://www.w3.org/2000/svg">
                <circle cx="8" cy="8" r="16"/>
            </svg>
            <text style="font-weight: bold">crane1-1&nbsp;&nbsp;</text>
            <input type="checkbox" name="switch1"/>
        </label>
    </div>
    <div class="col-md-4 offset-8" id="switch2" style="display: none">
        <label class="form-inline">
            <svg id="reshow2" class="reload" viewBox="0 0 1024 1024" width="20" height="20">
                <path d="M512 960c-211.2 0-384-172.8-384-384s172.8-384 384-384c38.4 0 64 25.6 64 64s-25.6 64-64 64C371.2 320 256 435.2 256 576s115.2 256 256 256 256-115.2 256-256c0-38.4 25.6-64 64-64s64 25.6 64 64c0 211.2-172.8 384-384 384z"
                      fill="#FF0000"></path>
                <path d="M806.4 211.2L608 76.8C569.6 51.2 512 76.8 512 121.6v268.8c0 44.8 57.6 70.4 96 44.8l198.4-134.4c32-19.2 32-70.4 0-89.6"
                      fill="#FF0000"></path>
            </svg>
            <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-circle-fill" fill="red"
                 xmlns="http://www.w3.org/2000/svg">
                <circle cx="8" cy="8" r="16"/>
            </svg>
            <text style="font-weight: bold">crane1-2&nbsp;&nbsp;</text>
            <input type="checkbox" name="switch2"/>
        </label>
    </div>
    <div class="col-md-4 offset-8" id="switch3" style="display: none">
        <label class="form-inline">
            <svg id="reshow3" class="reload" viewBox="0 0 1024 1024" width="20" height="20">
                <path d="M512 960c-211.2 0-384-172.8-384-384s172.8-384 384-384c38.4 0 64 25.6 64 64s-25.6 64-64 64C371.2 320 256 435.2 256 576s115.2 256 256 256 256-115.2 256-256c0-38.4 25.6-64 64-64s64 25.6 64 64c0 211.2-172.8 384-384 384z"
                      fill="#FFA500"></path>
                <path d="M806.4 211.2L608 76.8C569.6 51.2 512 76.8 512 121.6v268.8c0 44.8 57.6 70.4 96 44.8l198.4-134.4c32-19.2 32-70.4 0-89.6"
                      fill="#FFA500"></path>
            </svg>
            <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-circle-fill" fill="orange"
                 xmlns="http://www.w3.org/2000/svg">
                <circle cx="8" cy="8" r="16"/>
            </svg>
            <text style="font-weight: bold">crane1-3&nbsp;&nbsp;</text>
            <input type="checkbox" name="switch3"/>
        </label>
    </div>
</div>
<div id="vis" name="path" style="display: none; margin-top: -5em">
    <svg width="1200" height="600" id="mainsvg" class="svgs" style="display: block;margin: auto"></svg>
</div>

</body>
<script type="text/javascript">
    let num = "[[${craneNum}]]"
    for (let numElement of num) {
        $("#switch" + numElement).css("display", "inherit")
    }
    let i = 1;
    $(".reload").mouseover(function () {
        $(this).css("transform", `rotate(360deg)`)
        $(this).css("transition", `all 1s`)
    }).mouseout(function () {
        $(this).css("transform", `rotate(0deg)`)
        $(this).attr("opacity", 1)
        $(this).css("transition", `all 1s`)
    }).mousedown(function () {
        $(this).attr("opacity", 0.3)
        $(this).css("transform", `rotate(360deg) scale(1.3)`)
        $(this).css("transition", `all 0.5s`)
        // $(this).css("height", `${$(this).height() + 8}px`);
    }).mouseup(function () {
        // $(this).css("height", `${$(this).height() - 8}px`);
        $(this).attr("opacity", 1)
        $(this).css("transform", `rotate(360deg) scale(1)`)
        $(this).css("transition", `all 0.5s`)
    })

</script>
<script type="text/javascript" th:src="@{/js/drawPath.js}"></script>


</html>